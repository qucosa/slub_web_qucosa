"use strict";(self.webpackChunkqsa=self.webpackChunkqsa||[]).push([[777],{123:function(e,t,n){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}n.r(t);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){this.triggerInput(),this.fileUpload(),this.countKeywords(),this.removeFile(),this.addFile()}},{key:"triggerInput",value:function(){document.querySelectorAll(".qsa_input-group__input-text").forEach((function(e){""!==e.value.trim()&&e.setAttribute("data-empty",!1),e.addEventListener("input",(function(e){e.target.setAttribute("data-empty",!e.currentTarget.value)}))}))}},{key:"fileUpload",value:function(){var e=this,t=document.querySelectorAll('.qsa_input-group-file__label span[role="button"]'),n=document.querySelectorAll('.qsa_input-group-file__input[type="file"]');t.forEach((function(e){e.addEventListener("keypress keyup",(function(t){32!==t.which&&13!==t.which||(t.preventDefault(),e.click())}))})),n.forEach((function(t){t.addEventListener("change",(function(n){var i=n.target.value.split("\\").pop();t.nextElementSibling.value=i,t.nextElementSibling.setAttribute("placeholder",i),t.parentElement.classList.add("qsa_input-group-file--filled"),e.removeFile()}))}))}},{key:"countKeywords",value:function(){document.querySelectorAll(".qsa_input-group__keywords").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".qsa_input-group__count");t.addEventListener("input",(function(e){var t=e.currentTarget,i=t.value,a=t.dataset.maxlength,l=i.split(",").filter((function(e){return e}));if(l.length>a){var o=i.lastIndexOf(",");return t.value=i.substring(0,o),!1}n.innerHTML=l.length}))}))}},{key:"removeFile",value:function(){var e=this;document.querySelectorAll(".qsa_input-group-file-remove").forEach((function(t){t.addEventListener("click",(function(t){t.stopImmediatePropagation();var n=t.target.parentElement,i=n.parentElement.parentElement,a=i.querySelector(".qsa_wizard__wrapper-form-element-add");n.parentElement.remove(),0===i.querySelectorAll(".qsa_input-group-file").length&&a.classList.remove("d-none"),a.addEventListener("click",(function(t){t.stopPropagation(),a.classList.add("d-none"),e.addFileMarkup(i)}))}))}))}},{key:"addFile",value:function(){var e=this;document.querySelectorAll(".qsa_input-group-file-add").forEach((function(t){var n=t.parentElement.parentElement.parentElement;t.addEventListener("click",(function(t){e.addFileMarkup(n)}))}))}},{key:"addFileMarkup",value:function(e){var t=Math.random(),n=document.getElementById("iconPath").dataset.iconpath;e.insertAdjacentHTML("beforeend",'<div class="qsa_input-group" data-input="file">\n    <div class="qsa_input-group-file" data-showinsummary="true">\n        <label class="qsa_input-group-file__label" for="fileupload-'.concat(t,'" id="buttonlabel-').concat(t,'">\n            <span role="button" aria-controls="filename" tabindex="0">\n                <svg class="qsa_icon icon--upload icon--base" role="img" width="20" height="20" aria-hidden="true">\n                    <title class="sr-only">Icon publish</title>\n                    <desc class="sr-only">Icon um Datei hochzuladen</desc>\n                    <use xlink:href="').concat(n,'icon-upload"></use>\n                </svg>\n            </span>\n        </label>\n        <span class="qsa_input-group-file-size">PDF</span>\n        <svg class="qsa_icon icon--pdf-file icon--base" role="img" width="20" height="20" aria-hidden="true">\n            <title class="sr-only">Icon pdf-file</title>\n            <desc class="sr-only"></desc>\n            <use xlink:href="').concat(n,'icon-pdf-file"></use>\n        </svg>\n        <button class="qsa_input-group-file-remove btn-outline__without">\n            <span class="sr-only">Ausgewählte PDF löschen</span>\n            <svg class="qsa_icon icon--delete-bin icon--base" role="img" width="20" height="20" aria-hidden="true">\n                <title class="sr-only">Icon delete-bin</title>\n                <desc class="sr-only"></desc>\n                <use xlink:href="').concat(n,'icon-delete-bin"></use>\n            </svg>\n        </button>\n            <button class="qsa_input-group-file-add btn-outline__without">\n                <span class="sr-only">Eine Weitere Datei hinzufügen</span>\n                <svg class="qsa_icon icon--add-btn icon--base" role="img" width="20" height="20" aria-hidden="true">\n                    <title class="sr-only">Icon add-btn</title>\n                    <desc class="sr-only"></desc>\n                    <use xlink:href="').concat(n,'icon-add-btn"></use>\n                </svg>\n            </button>\n                <input class="qsa_input-group-file__input" type="file" accept="application/pdf" id="fileupload-').concat(t,'">\n                <input class="qsa_input-group-file__text-input" type="text" id="').concat(t,'--filename" autocomplete="off" readonly="" placeholder="Eigene Datei hochladen">\n                <label class="qsa_input-group-file__text-label" for="').concat(t,'--filename">\n                    Eigene Datei hochladen\n        </label>\n    </div>\n</div>')),this.removeFile(),this.fileUpload(),this.addFile()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=new o}}]);