"use strict";(self.webpackChunkqsa=self.webpackChunkqsa||[]).push([[814],{270:function(e,n,t){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.r(n);var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var n,t;return n=e,(t=[{key:"init",value:function(){this.triggerInput(),this.fileUpload(),this.countKeywords(),this.removeFile(),this.addFile()}},{key:"triggerInput",value:function(){document.querySelectorAll(".qsa_input-group__input-text").forEach((function(e){e.addEventListener("input",(function(e){e.target.setAttribute("data-empty",!e.currentTarget.value)}))}))}},{key:"fileUpload",value:function(){var e=this,n=document.querySelectorAll('.qsa_input-group-file__label span[role="button"]'),t=document.querySelectorAll('.qsa_input-group-file__input[type="file"]');n.forEach((function(e){e.addEventListener("keypress keyup",(function(n){32!==n.which&&13!==n.which||(n.preventDefault(),e.click())}))})),t.forEach((function(n){n.addEventListener("change",(function(t){var i=t.target.value.split("\\").pop();n.nextElementSibling.value=i,n.nextElementSibling.setAttribute("placeholder",i),n.parentElement.classList.add("qsa_input-group-file--filled"),e.removeFile()}))}))}},{key:"countKeywords",value:function(){document.querySelectorAll(".qsa_input-group__keywords").forEach((function(e){var n=e.querySelector("input"),t=e.querySelector(".qsa_input-group__count");n.addEventListener("input",(function(e){var n=e.currentTarget,i=n.value,a=n.dataset.maxlength,l=i.split(",").filter((function(e){return e}));if(l.length>a){var o=i.lastIndexOf(",");return n.value=i.substring(0,o),!1}t.innerHTML=l.length}))}))}},{key:"removeFile",value:function(){var e=this;document.querySelectorAll(".qsa_input-group-file-remove").forEach((function(n){n.addEventListener("click",(function(n){n.stopImmediatePropagation();var t=n.target.parentElement,i=t.parentElement.parentElement,a=i.querySelector(".qsa_wizard__wrapper-form-element-add");t.parentElement.remove(),0===i.querySelectorAll(".qsa_input-group-file").length&&a.classList.remove("d-none"),a.addEventListener("click",(function(n){n.stopPropagation(),a.classList.add("d-none"),e.addFileMarkup(i)}))}))}))}},{key:"addFile",value:function(){var e=this;document.querySelectorAll(".qsa_input-group-file-add").forEach((function(n){var t=n.parentElement.parentElement.parentElement;n.addEventListener("click",(function(n){e.addFileMarkup(t)}))}))}},{key:"addFileMarkup",value:function(e){var n=Math.random(),t=document.getElementById("iconPath").dataset.iconpath;e.insertAdjacentHTML("beforeend",'<div class="qsa_input-group" data-input="file">\n    <div class="qsa_input-group-file" data-showinsummary="true">\n        <label class="qsa_input-group-file__label" for="fileupload-'.concat(n,'" id="buttonlabel-').concat(n,'">\n            <span role="button" aria-controls="filename" tabindex="0">\n                <svg class="qsa_icon icon--upload icon--base" role="img" width="20" height="20" aria-hidden="true">\n                    <title class="sr-only">Icon publish</title>\n                    <desc class="sr-only">Icon um Datei hochzuladen</desc>\n                    <use xlink:href="').concat(t,'icon-upload"></use>\n                </svg>\n            </span>\n        </label>\n        <span class="qsa_input-group-file-size">PDF</span>\n        <svg class="qsa_icon icon--pdf-file icon--base" role="img" width="20" height="20" aria-hidden="true">\n            <title class="sr-only">Icon pdf-file</title>\n            <desc class="sr-only"></desc>\n            <use xlink:href="').concat(t,'icon-pdf-file"></use>\n        </svg>\n        <button class="qsa_input-group-file-remove btn-outline__without">\n            <span class="sr-only">Ausgewählte PDF löschen</span>\n            <svg class="qsa_icon icon--delete-bin icon--base" role="img" width="20" height="20" aria-hidden="true">\n                <title class="sr-only">Icon delete-bin</title>\n                <desc class="sr-only"></desc>\n                <use xlink:href="').concat(t,'icon-delete-bin"></use>\n            </svg>\n        </button>\n            <button class="qsa_input-group-file-add btn-outline__without">\n                <span class="sr-only">Eine Weitere Datei hinzufügen</span>\n                <svg class="qsa_icon icon--add-btn icon--base" role="img" width="20" height="20" aria-hidden="true">\n                    <title class="sr-only">Icon add-btn</title>\n                    <desc class="sr-only"></desc>\n                    <use xlink:href="').concat(t,'icon-add-btn"></use>\n                </svg>\n            </button>\n                <input class="qsa_input-group-file__input" type="file" accept="application/pdf" id="fileupload-').concat(n,'">\n                <input class="qsa_input-group-file__text-input" type="text" id="').concat(n,'--filename" autocomplete="off" readonly="" placeholder="Eigene Datei hochladen">\n                <label class="qsa_input-group-file__text-label" for="').concat(n,'--filename">\n                    Eigene Datei hochladen\n        </label>\n    </div>\n</div>')),this.removeFile(),this.fileUpload(),this.addFile()}}])&&i(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();n.default=new a}}]);